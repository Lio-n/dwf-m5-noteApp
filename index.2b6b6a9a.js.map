{"mappings":"imBAAA,IAAIA,EAAAC,mFAEJ,IAAIC,EAAO,GAoBXD,WAlBkBE,OAChB,IAAIC,EAAOC,OAAOD,KAAKD,GAEdG,EAAI,EAAGA,EAAIF,EAAKG,OAAQD,IAC/BJ,EAAQE,EAAKE,IAAMH,EAAMC,EAAKE,KAelCN,WAXiBQ,GACf,IAAIC,EAAWP,EAAQM,GAEvB,GAAgB,MAAZC,EACF,MAAM,IAAIC,MAAK,oCAAuCF,UAGjDC,MCnBTE,EAAA,SAAAC,SAA8CC,KAAKC,MAAK,4GCA3CC,UAAaC,0BAMtBC,aAHFC,KAAI,gBACJC,IAAG,SAGIC,OAAMC,KAAQC,aAAY,CAAGC,KAAI,SACpCF,KAAOH,KAAKM,SAAQH,KAAMI,aAAY,UAAMJ,KACvCF,IAAGE,KAAQI,aAAY,QAAMJ,KAAUF,UAEzCO,SAEPA,SACE,MAAMC,EAASC,SAASC,cAAaR,KAAMF,KAC3CQ,EAAOG,YAAWT,KAAQS,iBACrBV,OAAOW,YAAYJ,IAI5BK,eAAeC,OAAM,UAAYlB,2CCpBjC,IAAImB,+CAEJ,IAAIC,EAAS,YA6BJC,EAAWC,aACLA,GAAKC,QAAO,wCAAA,MAA8C,IAczEJ,WA1C4B1B,GAC1B,IAAI+B,EAAQJ,EAAU3B,UAEjB+B,IACHA,iBASA,MAAM,IAAI7B,MACX,MAAQ8B,GACP,IAAIC,GAAO,GAASD,EAAIE,OAAOC,MAAK,kCAEpC,GAAIF,SAGKL,EAAWK,EAAQ,cAhBpBG,GACRT,EAAU3B,GAAM+B,GAGXA,MCZTM,EAAiBlC,EAAA,SAAAmC,aAA4C,SAAYnC,EAAA,SAAAoC,QAA4C,SCErHf,eAAeC,OAAM,YACR,cACGjB,0BAMVC,aACKG,OAAMC,KAAQC,aAAY,CAAGC,KAAI,SAExCyB,yBACOC,MAAK5B,KAAQI,aAAY,UAAQ,QACjCjB,GAAEa,KAAQI,aAAY,WACtByB,QAAO7B,KAAQ8B,aAAY,WAEhC,MAAMC,EAAQxB,SAASC,cAAa,SACpCuB,EAAMC,UAAS,21BAqCVjC,OAAOW,YAAYqB,QAEnB1B,SAEP4B,eACYjC,KAAQD,OAAOmC,cAAa,mBAEjCC,iBAAgB,SAAWC,IAC9B,MAAMC,EAASD,EAAEC,OAEXC,EAAQ,IAAIC,YAAW,SAAS,CACpCC,OAAM,CACJrD,GAAEa,KAAOb,GACT+B,MAAOmB,EAAOR,gBAGbY,cAAcH,MAGrB,MAAMI,EAAO1C,KAAQD,OAAOmC,cAAa,UAEzCQ,EAAQP,iBAAgB,SAAQ,KAE9B,MAAMQ,EAAc,IAAIJ,YAAW,SAAS,CAC1CC,OAAM,CACJrD,GAAEa,KAAOb,WAKRsD,cAAcE,MAGrB,MAAMrC,EAAMN,KAAQD,OAAOmC,cAAa,SAExC,IAAIU,GAAU,OACT7C,OAAOmC,cAAa,SAAUC,iBAAgB,SAAQ,KACpDS,GAMHF,EAAQG,UAAUC,OAAM,QACxBxC,EAAOuC,UAAUC,OAAM,UACvBF,GAAU,IAPVF,EAAQG,UAAUE,IAAG,QACrBC,QAAQC,IAAG,SAAW3C,GACtBA,EAAOuC,UAAUE,IAAG,UACpBH,GAAU,MAQhBvC,SACE,MAAM6C,EAAM3C,SAASC,cAAa,OAClC0C,EAAIlB,UAAS,8DAEUhC,KAAO6B,QAAO,UAAY,OAAQ7B,KAClD4B,gGAGiD5B,KACvC6B,QAAO,UAAY,gDAEAL,sDAI/BzB,OAAOW,YAAYwC,QACnBjB,kBCzHJ,MAAMkB,EAAK,CAGhBC,KAAI,CACFC,MAAK,IAEPC,UAAS,GAETC,OAEE,MAAMC,EAAYhE,KAAKC,MAAMgE,aAAaC,QAAO,gBAE5CF,QAGEG,SAASH,IAIlBI,uBACcR,MAGdO,SAASE,QACFT,KAAOS,MAEP,MAAMC,KAAE9D,KAASsD,UACpBQ,EAAGD,GAELJ,aAAaM,QAAO,cAAgBvE,KAAKwE,UAAUH,KAGrDI,kBACE,MAAMC,EAAYlE,KAAQ4D,kBAC1BZ,QAAQC,IAAG,eAAiBiB,GACrBA,EAAab,MAAMc,QAAQC,IAAOA,EAAEC,WAG7CC,SAASnF,EAAIyC,GACX,MAAMsC,EAAYlE,KAAQ4D,WAC1BM,EAAab,MAAMkB,KAAI,IAAGpF,QAAIyC,EAAO4C,WAAW,EAAOH,SAAS,SAC3DV,SAASO,IAGhBO,WAAWtF,GACT,MAAM+E,EAAYlE,KAAQ4D,WACRM,EAAab,MAAMqB,MAAMN,GAAMA,EAAEjF,IAAMA,IAC/CkF,SAAU,OAEfV,SAASO,IAGhBS,gBAAgBxF,EAAIqF,GAClB,MAAMN,EAAYlE,KAAQ4D,WACZM,EAAab,MAAMqB,MAAMN,GAAMA,EAAEjF,IAAMA,IAC/CqF,UAAYA,OAEbb,SAASO,IAGhBU,UAAUC,QACHvB,UAAUiB,KAAKM,KCvDtB1B,EAAMI,OCHiB,CAAIuB,IAC3B,MAAM5B,EAAM3C,SAASC,cAAa,OAE5B6C,EAAQF,EAAMc,kBAEpBf,EAAIlB,UAAS,qSASb,MAAM+C,EAAU7B,EAAIhB,cAAa,UAE3B8C,EAAeC,IACnBF,EAAQ/C,UAAS,OACZ,MAAMkD,KAAQD,EAAO,CACxB,MAAME,EAAa5E,SAASC,cAAa,aACzC2E,EAAWC,aAAY,KAAOF,EAAK/F,IACnCgG,EAAWC,aAAY,QAAUF,EAAKtD,OAClCsD,EAAKV,WACPW,EAAWC,aAAY,UAAU,QAInCD,EAAWhD,iBAAgB,UAAYC,IACrCe,EAAMsB,WAAWrC,EAAEI,OAAOrD,OAE5BgG,EAAWhD,iBAAgB,UAAYC,IACrCe,EAAMwB,gBAAgBvC,EAAEI,OAAOrD,GAAIiD,EAAEI,OAAOtB,UAE9C6D,EAAQrE,YAAYyE,KAIxBhC,EAAMyB,WAAS,KACbI,EAAY7B,EAAMc,sBAGpBe,EAAY3B,GAEZ,MAAMgC,EAAanC,EAAIhB,cAAa,gBACpCgB,EAAIhB,cAAa,eAAgBC,iBAAgB,SAAWC,IAC1DA,EAAEkD,iBAEa,IAAXD,EAAMnE,QAGViC,EAAMmB,SAASiB,KAAKC,SAAUH,EAAMnE,OAGpCmE,EAAMnE,MAAK,OAEb4D,EAAYpE,YAAYwC,IDnDxBuC,CAAalF,SAAS2B,cAAa","sources":["node_modules/@parcel/runtime-js/lib/helpers/bundle-manifest.js","node_modules/@parcel/runtime-js/lib/runtime-e2febe91e85a5b88.js","src/components/text-style/index.ts","node_modules/@parcel/runtime-js/lib/helpers/bundle-url.js","node_modules/@parcel/runtime-js/lib/runtime-defed645a28e7157.js","src/components/todo-item/index.ts","src/state.ts","src/index.ts","src/page/home/index.ts"],"sourcesContent":["\"use strict\";\n\nvar mapping = {};\n\nfunction register(pairs) {\n  var keys = Object.keys(pairs);\n\n  for (var i = 0; i < keys.length; i++) {\n    mapping[keys[i]] = pairs[keys[i]];\n  }\n}\n\nfunction resolve(id) {\n  var resolved = mapping[id];\n\n  if (resolved == null) {\n    throw new Error('Could not resolve bundle with id ' + id);\n  }\n\n  return resolved;\n}\n\nmodule.exports.register = register;\nmodule.exports.resolve = resolve;","require('./helpers/bundle-manifest').register(JSON.parse(\"{\\\"di8mO\\\":\\\"index.2b6b6a9a.js\\\",\\\"fYsRF\\\":\\\"trash-icon.afb2ef45.svg\\\"}\"));","export class Text extends HTMLElement {\n  shadow: ShadowRoot;\n  tagName: string;\n  tags: string[] = [\"h1\", \"p\"];\n  tag: string = \"p\";\n  constructor() {\n    super();\n    this.shadow = this.attachShadow({ mode: \"open\" });\n    if (this.tags.includes(this.getAttribute(\"tag\"))) {\n      this.tag = this.getAttribute(\"tag\") || this.tag;\n    }\n    this.render();\n  }\n  render() {\n    const rootEl = document.createElement(this.tag);\n    rootEl.textContent = this.textContent;\n    this.shadow.appendChild(rootEl);\n  }\n}\n\ncustomElements.define(\"my-text\", Text);\n","\"use strict\";\n\nvar bundleURL = {};\n\nfunction getBundleURLCached(id) {\n  var value = bundleURL[id];\n\n  if (!value) {\n    value = getBundleURL();\n    bundleURL[id] = value;\n  }\n\n  return value;\n}\n\nfunction getBundleURL() {\n  try {\n    throw new Error();\n  } catch (err) {\n    var matches = ('' + err.stack).match(/(https?|file|ftp):\\/\\/[^)\\n]+/g);\n\n    if (matches) {\n      // The first two stack frames will be this function and getBundleURLCached.\n      // Use the 3rd one, which will be a runtime in the original bundle.\n      return getBaseURL(matches[2]);\n    }\n  }\n\n  return '/';\n}\n\nfunction getBaseURL(url) {\n  return ('' + url).replace(/^((?:https?|file|ftp):\\/\\/.+)\\/[^/]+$/, '$1') + '/';\n} // TODO: Replace uses with `new URL(url).origin` when ie11 is no longer supported.\n\n\nfunction getOrigin(url) {\n  var matches = ('' + url).match(/(https?|file|ftp):\\/\\/[^/]+/);\n\n  if (!matches) {\n    throw new Error('Origin not found');\n  }\n\n  return matches[0];\n}\n\nexports.getBundleURL = getBundleURLCached;\nexports.getBaseURL = getBaseURL;\nexports.getOrigin = getOrigin;","module.exports = require('./helpers/bundle-url').getBundleURL('di8mO') + require('./helpers/bundle-manifest').resolve(\"fYsRF\");","const trashIcon = require(\"url:../../assets/image/trash-icon.svg\");\n\ncustomElements.define(\n  \"todo-item\",\n  class extends HTMLElement {\n    shadow: ShadowRoot;\n    title: string;\n    checked: boolean;\n\n    constructor() {\n      super();\n      this.shadow = this.attachShadow({ mode: \"open\" });\n    }\n    connectedCallback() {\n      this.title = this.getAttribute(\"title\") || \"\";\n      this.id = this.getAttribute(\"id\");\n      this.checked = this.hasAttribute(\"checked\");\n\n      const style = document.createElement(\"style\");\n      style.innerHTML = `*{margin:0;padding:0;box-sizing: border-box;}\n      .root {\n        display: flex;\n        justify-content: space-between;\n        border-radius: 4px;\n        word-break: break-word;\n        padding: 22px 13px;\n        width: 302px;\n        min-height: 120px;\n        background-color: #fff599;\n        font-size: 18px;\n      }\n      .root > div{\n        padding-left: 1rem;\n        display: flex;\n        flex-direction: column;\n        align-items: center;\n        justify-content: space-between;\n        width: 35px;\n      }\n      h4{\n        font-weight: 400;\n      }\n      .border{\n        border: solid 2px;\n      }\n      .title.checked {\n        text-decoration: line-through;\n      }\n      .trash{\n        cursor: pointer;\n        display: none;\n      }\n      .open{\n        display: initial;\n      }\n      `;\n      this.shadow.appendChild(style);\n\n      this.render();\n    }\n    addListeners() {\n      const chEl = this.shadow.querySelector(\".checkbox-input\");\n      // Click on checkbox\n      chEl.addEventListener(\"click\", (e) => {\n        const target = e.target as any;\n        // Custom event, that sends the id and the checked value of the task item\n        const event = new CustomEvent(\"change\", {\n          detail: {\n            id: this.id,\n            value: target.checked,\n          },\n        });\n        this.dispatchEvent(event);\n      });\n\n      const trashEl = this.shadow.querySelector(\".trash\");\n      // Click on trash image event\n      trashEl.addEventListener(\"click\", () => {\n        // Custom event, that sends the id of the task item\n        const deleteEvent = new CustomEvent(\"delete\", {\n          detail: {\n            id: this.id,\n          },\n        });\n\n        // Dispatch the event\n        this.dispatchEvent(deleteEvent);\n      });\n\n      const rootEl = this.shadow.querySelector(\".root\");\n      // Add the icon Trash\n      let boolean = false;\n      this.shadow.querySelector(\".root\").addEventListener(\"click\", () => {\n        if (!boolean) {\n          trashEl.classList.add(\"open\");\n          console.log(\"rootEl\", rootEl);\n          rootEl.classList.add(\"border\");\n          boolean = true;\n        } else {\n          trashEl.classList.remove(\"open\");\n          rootEl.classList.remove(\"border\");\n          boolean = false;\n        }\n      });\n    }\n    render() {\n      const div = document.createElement(\"div\");\n      div.innerHTML = `\n        <div class=\"root\">\n            <h4 class=\"title ${this.checked ? \"checked\" : \"\"}\">${\n        this.title\n      }</h4>\n            <div>\n                <input class=\"checkbox-input\" type=\"checkbox\" ${\n                  this.checked ? \"checked\" : \"\"\n                }>\n                <img class=\"trash\" src=\"${trashIcon}\"/>\n            </div>\n        </div>\n    `;\n      this.shadow.appendChild(div);\n      this.addListeners();\n    }\n  }\n);\n","export const state = {\n  //\"Borrar los item puede traer problemas\n  //lo mejor es inhabilitarlos\"\n  data: {\n    tasks: [],\n  },\n  listeners: [],\n  // Initializar\n  init() {\n    // Get the local data\n    const localData = JSON.parse(localStorage.getItem(\"saved-state\"));\n    // If localdata retuns \"null\", do nothing\n    if (!localData) {\n      return;\n    } else {\n      this.setState(localData);\n    }\n  },\n  // Get the data\n  getState() {\n    return this.data;\n  },\n  // Stores the data\n  setState(newState) {\n    this.data = newState;\n    //callback = cb\n    for (const cb of this.listeners) {\n      cb(newState);\n    }\n    localStorage.setItem(\"saved-state\", JSON.stringify(newState));\n  },\n  // Return the Tasks that aren't \"Deleted\".\n  getEnabledTasks() {\n    const currentState = this.getState();\n    console.log(\"currentState\", currentState);\n    return currentState.tasks.filter((t) => !t.deleted);\n  },\n  // Add the Tasks\n  addTasks(id, title) {\n    const currentState = this.getState();\n    currentState.tasks.push({ id, title, completed: false, deleted: false });\n    this.setState(currentState);\n  },\n  // Delete task\n  deleteTask(id) {\n    const currentState = this.getState();\n    const foundTask = currentState.tasks.find((t) => t.id == id);\n    foundTask.deleted = true;\n\n    this.setState(currentState);\n  },\n  // Change Task status\n  changeItemState(id, completed) {\n    const currentState = this.getState();\n    const found = currentState.tasks.find((t) => t.id == id);\n    found.completed = completed;\n\n    this.setState(currentState);\n  },\n\n  subscribe(callback: (any) => { any }) {\n    this.listeners.push(callback);\n  },\n};\n","import \"./components/text-style/index\";\nimport \"./components/todo-item/index\";\nimport { initHomepage } from \"./page/home/index\";\nimport { state } from \"./state\";\n(function main() {\n  // Initializar\n  state.init();\n  initHomepage(document.querySelector(\".root\"));\n})();\n","import { any } from \"core-js/fn/promise\";\nimport { state } from \"../../state\";\n\nexport const initHomepage = (containerEl) => {\n  const div = document.createElement(\"div\");\n  // Gets the tasks enabled\n  const tasks = state.getEnabledTasks();\n\n  div.innerHTML = `\n  <h1>Mis pendientes</h1>\n  <form class=\"form\">\n      <label class=\"form__subtitle\" for=\"input\">Nuevo pendiente</label>\n      <input class=\"form__input\" type=\"text\" id=\"input\" />\n      <button class=\"form__button add-button\">Agregar Item</button>\n  </form>\n  <ul class=\"lista\"></ul>`;\n\n  const listaEl = div.querySelector(\".lista\");\n\n  const createTasks = (items) => {\n    listaEl.innerHTML = \"\";\n    for (const item of items) {\n      const todoItemEl = document.createElement(\"todo-item\");\n      todoItemEl.setAttribute(\"id\", item.id);\n      todoItemEl.setAttribute(\"title\", item.title);\n      if (item.completed) {\n        todoItemEl.setAttribute(\"checked\", \"true\");\n      }\n\n      // Listen the delete event\n      todoItemEl.addEventListener(\"delete\", (e: any) => {\n        state.deleteTask(e.detail.id);\n      });\n      todoItemEl.addEventListener(\"change\", (e: any) => {\n        state.changeItemState(e.detail.id, e.detail.value);\n      });\n      listaEl.appendChild(todoItemEl);\n    }\n  };\n\n  state.subscribe(() => {\n    createTasks(state.getEnabledTasks());\n  });\n\n  createTasks(tasks);\n\n  const input: any = div.querySelector(\".form__input\");\n  div.querySelector(\".add-button\").addEventListener(\"click\", (e) => {\n    e.preventDefault();\n    // If there's an empty string, do nothing\n    if (input.value == \"\") {\n      return;\n    }\n    state.addTasks(Math.random(), input.value);\n\n    // Clear the input field\n    input.value = \"\";\n  });\n  containerEl.appendChild(div);\n};\n"],"names":["$5b2b3cdd5d136d36$export$40339995e8a21591","$5b2b3cdd5d136d36$export$357eb1b4f03c1402","$5b2b3cdd5d136d36$var$mapping","pairs","keys","Object","i","length","id","resolved","Error","parcelRequire","register","JSON","parse","$52e1b0d29b5a3702$export$a90b6065d292b1b0","HTMLElement","super","tags","tag","shadow","this","attachShadow","mode","includes","getAttribute","render","rootEl","document","createElement","textContent","appendChild","customElements","define","$f3d8ccfa2247eb90$export$da289beea9c5b10d","$f3d8ccfa2247eb90$var$bundleURL","$f3d8ccfa2247eb90$var$getBaseURL","url","replace","value","err","matches","stack","match","$f3d8ccfa2247eb90$var$getBundleURL","$e6753ccec13db1fd$exports","getBundleURL","resolve","connectedCallback","title","checked","hasAttribute","style","innerHTML","addListeners","querySelector","addEventListener","e","target","event","CustomEvent","detail","dispatchEvent","trashEl","deleteEvent","boolean","classList","remove","add","console","log","div","$792e4afce125cd80$export$c837a8b98c265ae3","data","tasks","listeners","init","localData","localStorage","getItem","setState","getState","newState","cb","setItem","stringify","getEnabledTasks","currentState","filter","t","deleted","addTasks","push","completed","deleteTask","find","changeItemState","subscribe","callback","containerEl","listaEl","createTasks","items","item","todoItemEl","setAttribute","input","preventDefault","Math","random","$a159953e8af28c0f$export$405b52f1b78f065e"],"version":3,"file":"index.2b6b6a9a.js.map"}